{% assign gallery_items = site.artworks | where: "year", include.year | sort: "weight" | reverse %}

<div class="gallery-grid yearly-gallery">
  <!-- <h1 class="page-title">Gallery</h1> -->
  
  <div class="gallery-filter-bar">
    <span class="filter-label">Filter by year:</span>
    <a href="{{ '/gallery' | relative_url }}" {% unless include.year %}class="active"{% endunless %}>ALL</a>
    <a href="{{ '/gallery/2024' | relative_url }}" {% if include.year == 2024 %}class="active"{% endif %}>2024</a>
    <a href="{{ '/gallery/2023' | relative_url }}" {% if include.year == 2023 %}class="active"{% endif %}>2023</a>
  </div>
  {% for artwork in gallery_items %}
  {% assign dimensions = artwork.image_filename | image_dimensions %}
  <div class="gallery-item yearly-item">
    <div class="gallery-image-container" style="aspect-ratio: {{ dimensions.aspect_ratio }};">
      {% picture gallery {{ artwork.image_filename }} --alt {{ artwork.title }} class="gallery-image" %}
    </div>
    <div class="gallery-item-info visible-info">
      <h3>{{ artwork.title }}</h3>
      <p>{{ artwork.year }}</p>
      <p class="tiny-text">{{ artwork.medium }}{% if artwork.dimensions %}, {{ artwork.dimensions }}{% endif %}</p>
      <p class="tiny-text">{{ artwork.content }}</p>
    </div>
  </div>
  {% endfor %}
  
  {% if include.year == 2024 %}
  <div class="gallery-cta">
    <a href="{{ '/gallery/2023' | relative_url }}" class="cta-button">See 2023 Works</a>
  </div>
  {% elsif include.year == 2023 %}
  <div class="gallery-cta">
    <a href="{{ '/installations' | relative_url }}" class="cta-button">See Installations</a>
  </div>
  {% endif %}
</div> 
